<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
    <title>Alex Calderwood</title>
    <meta name="generator" content="Jekyll v4.3.2" />
    <meta property="og:title" content="{{ page.description }}" />
    <meta property="og:locale" content="en_US" />
    <meta name="description" content="{{ page.description }}"/>
    <meta property="og:description" content="{{ page.description }}" />
    <link rel="canonical" href="http://localhost:4000/" />
    <meta property="og:url" content="http://localhost:4000/" />
    <meta property="og:site_name" content="{{ page.description }}" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary" />
    <meta property="twitter:title" content="{{ page.description }}" />
    <script type="application/ld+json">
    {"@context":"https://schema.org","@type":"WebSite","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","headline":"Your awesome title","name":"Your awesome title","url":"http://localhost:4000/"}</script>
    <!-- End Jekyll SEO tag -->
    <!-- <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> -->
    <link href="https://fonts.googleapis.com/css2?family=Bona+Nova:ital,wght@0,400;0,700;1,400&family=Diphylleia&family=Raleway:ital,wght@0,100..900;1,100..900&family=Rosarivo:ital@0;1&family=Shippori+Mincho+B1&family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="{{ page.description }}" />


    <!-- https://chenhuijing.com/blog/the-many-methods-for-using-svg-icons/#%F0%9F%91%BE -->
    <div style="display: none;">
    <svg xmlns="http://www.w3.org/2000/svg">
        <symbol id="tag2" viewBox="0 0 64 64" fill="none">
            <path d="M54.97 33.927L29.31 8.26697C28.6125 7.56692 27.7524 7.05069 26.8065 6.76449C25.8607 6.47829 24.8586 6.43105 23.89 6.62697L13.6 8.68696C12.4383 8.9148 11.3708 9.48354 10.5337 10.3206C9.69662 11.1577 9.12788 12.2252 8.90005 13.387L6.84005 23.677C6.64611 24.6456 6.69428 25.6471 6.98037 26.5926C7.26647 27.5381 7.78159 28.3984 8.48001 29.097L34.14 54.747C34.6962 55.3049 35.357 55.7475 36.0846 56.0496C36.8122 56.3516 37.5922 56.5071 38.38 56.5071C39.1678 56.5071 39.9479 56.3516 40.6754 56.0496C41.403 55.7475 42.0638 55.3049 42.62 54.747L54.97 42.407C56.0936 41.282 56.7248 39.757 56.7248 38.167C56.7248 36.577 56.0936 35.052 54.97 33.927ZM18.24 18.017C18.8173 17.4681 19.5835 17.1621 20.38 17.1621C21.1766 17.1621 21.9427 17.4681 22.52 18.017C22.8023 18.2988 23.0255 18.6342 23.1766 19.0033C23.3277 19.3725 23.4037 19.7681 23.4001 20.167C23.4004 20.7649 23.2231 21.3495 22.8907 21.8466C22.5583 22.3437 22.0857 22.7309 21.533 22.9591C20.9802 23.1872 20.3722 23.2461 19.7859 23.1282C19.1997 23.0104 18.6616 22.721 18.24 22.297C17.9586 22.0181 17.735 21.6864 17.5823 21.3208C17.4296 20.9553 17.3506 20.5631 17.35 20.167C17.3522 19.3623 17.672 18.591 18.24 18.021V18.017Z" 
            fill="currentColor"
            />
        </symbol>
    </svg>

    <svg xmlns="http://www.w3.org/2000/svg">
        <symbol id="tag3" viewBox="0 0 256 256" fill="none">
            <path fill="currentColor" d="M246.66 123.56L201 55.13A15.94 15.94 0 0 0 187.72 48H40a16 16 0 0 0-16 16v128a16 16 0 0 0 16 16h147.72a16 16 0 0 0 13.28-7.12l45.63-68.44a8 8 0 0 0 .03-8.88Z"/>
        </symbol>
    </svg>

    </div>

    </head>
      <body>
    <div id="heading-content">
        <p id="hi" class="fullwidth">
            Hi, I'm Alex. <img class="monochrome" src="{{ site.baseurl }}/assets/images/selfie.png" alt="A selfie of me" style="width: 1em;"> Welcome!</p>
        
        <!-- <p id="welcome" class="fullwidth">to my website!</p> -->
            <!-- <p class="fullwidth">(as you can tell, it's a bit of a work in progress, please excuse the mess).</p> -->

        <p id="iam" class="fullwidth">
            I'm a programmer, writer, artist, and
        </p>

        <p id="ucsc" class="fullwidth">
            PhD student at UC Santa Cruz. 
        </p>
        <p class="fullwidth"> I study writing technology, games, and critical AI literacy. </p>

        <p id="contact" class="fullwidth">
            <a href="mailto:alexcalderw@gmail.com">alexcalderw@gmail.com</a>
           <a href="https://bsky.app/profile/xenoscope.bsky.social">@xenoscope.bsky.social</a>
        </p>
    </div>

    <div class="content-columns">
        <div class="column">

            <p class="fullwidth header">Publications</p>

            {% assign publication_posts = site.posts | where: "layout", "post" | where_exp: "post", "post.tags contains 'paper'" %}
            {% assign char_limit = 75 %}
            {% assign shown_posts = '' | split: '' %}
            {% for post in publication_posts %}
                {% assign shown_posts = shown_posts | push: post.title %}
                
                <div class="publication-item" data-post-id="{{ post.title | slugify }}">
                <p class="fullwidth subheader">
                    <a href="{{ post.url | relative_url }}"
                        data-tags="{{ post.tags | join: ',' }}">{{ post.title }}
                    </a>
                <!-- </p> -->

                <!-- <p class="fullwidth sub"> -->

                    <!-- Date -->
                    <span class="date">
                    {% if post.date %}
                        {{ post.date | date: "%B %Y" }}
                    {% endif %}
                    </span>
                    <p class="fullwidth sub">

                    <!-- Tags -->
                    {% for tag in post.tags %}
                        {% if tag == "publication" %}
                        {% else %}
                            <svg class="tag" width="0.7em" height="0.7em" viewBox="0 0 64 64" fill="none" style="padding: 0; margin: 0; display: inline-block;">
                                <use href="#tag3" width="100%" height="100%" style="display: inline-block;"></use>
                            </svg>
                            <span class="tag">{{ tag }}</span>
                        {% endif %}
                    {% endfor %}
                <!-- </p> -->

                <!-- <p class="fullwidth sub">RR -->
                
                    <!-- Links -->
                    {% for link in post.links %}
                        <a class="post-link" href="{{ link.url }}">{{ link.text }}</a>
                    {% endfor %}
                </p>

                <!-- Images -->
                {% if post.images %}
                    {% for image in post.images %}
                        <img 
                            id="main-page-image-{{ image.src }}"
                             src="{{ site.baseurl }}/assets/images/{{ image.src }}" 
                             alt="{{ image.alt }}" 
                             class="marginalia"
                             data-parent-post="{{ post.title | slugify }}"> 
                             <!-- https://jekyllrb.com/docs/liquid/filters/ -->
                    {% endfor %}
                {% endif %}

                <div class="publication-content" data-content="{{ post.content | strip_html | escape }}" data-url="{{ post.url | relative_url }}" data-tags="{{ post.tags | join: ', ' }}" "></div> 
                </div>
            
            {% endfor %}

            
        </div>

        <div class="column">

            <p class="fullwidth header">Published Poetry</p>

            {% assign poetry_posts = site.posts | where: "layout", "post" | where_exp: "post", "post.tags contains 'poetry'" %}
            {% for post in poetry_posts %}
                <div class="publication-item" data-post-id="{{ post.title | slugify }}">
                    <p class="fullwidth subheader">
                        <a href="{{ post.url | relative_url }}"
                            data-tags="{{ post.tags | join: ',' }}">{{ post.title }}
                        </a>
                        <span class="date">
                            {% if post.date %}
                                {{ post.date | date: "%B %Y" }}
                            {% endif %}
                        </span>
                    </p>

                
                <!-- Images -->
                {% if post.images %}
                    {% for image in post.images %}
                        <img 
                            id="main-page-image-{{ image.src }}"
                             src="{{ site.baseurl }}/assets/images/{{ image.src }}" 
                             alt="{{ image.alt }}" 
                             class="marginalia marginalia-right"
                             data-parent-post="{{ post.title | slugify }}"> 
                             <!-- https://jekyllrb.com/docs/liquid/filters/ -->
                    {% endfor %}
                {% endif %}
            {% endfor %}


            <p class="fullwidth header">Miscellaneous</p>

            {% assign other_posts = site.posts | where: "layout", "post" %}
            {% for post in other_posts %}
                {% unless shown_posts contains post.title %}
                    <div class="publication-item" data-post-id="{{ post.title | slugify }}">
                        <p class="fullwidth subheader">
                            <a href="{{ post.url | relative_url }}"
                                data-tags="{{ post.tags | join: ',' }}">{{ post.title }}
                            </a>
                        </p>
                    </div>
                {% endunless %}
            {% endfor %}
        </div>

        <!-- Margin overlay for marginalia images -->
        <div class="margin-overlay">
            <!-- Images will be moved here by JavaScript -->
        </div>

    </div>


    </body>
    <script src="{{ site.baseurl }}/assets/js/text-resize.js"></script>
    <script>
        async function createPublicationContent(params) {
            const charLimit = 75;
            const maxLines = 3;
            document.querySelectorAll('.publication-content').forEach(function(div) {
                const raw = div.getAttribute('data-content');
                if (!raw) return;
                const words = raw.split(/\s+/);
                const wordCount = words?.length || 0;
                let lines = [], current = '';
                for (let word of words) {
                    if ((current + (current ? ' ' : '') + word).length > charLimit) {
                        if (lines.length + 1 === maxLines) break;
                        lines.push(current);
                        current = word;
                    } else {
                        current += (current ? ' ' : '') + word;
                    }
                }
                if (lines.length < maxLines && current) lines.push(current);
                // If there are words left, add ellipsis to the last line
                let truncated = lines.length < maxLines ? words.length === lines.join(' ').split(/\s+/).length : true;
                if (lines.length === maxLines && current && words.join(' ').length > lines.join(' ').length) {
                    lines[maxLines - 1] = current;
                    truncated = true;
                }
                lines = lines.slice(0, maxLines);
                // if (truncated && lines.length) {
                //     lines[lines.length - 1] = lines[lines.length - 1].replace(/\s+$/, '') + '...';
                // }
                lines.forEach(line => {
                    const p = document.createElement('p');
                    p.className = 'fullwidth sub';
                    p.textContent = line;
                    div.appendChild(p);
                });
                // Add 'more' link to the last <p> if truncated
                if (truncated && div.dataset.url && div.lastChild && div.lastChild.tagName === 'P') {
                    const more = document.createElement('a');
                    more.href = div.dataset.url;
                    more.textContent = (div.lastChild.textContent?.endsWith(' ') ? '' : ' ') + '[...]';
                    more.className = 'more-link';
                    div.lastChild.appendChild(more);
                }
            });
        }

        function respaceImages() {
            const leftImages = Array.from(document.querySelectorAll('.marginalia:not(.marginalia-right)'));
            const rightImages = Array.from(document.querySelectorAll('.marginalia-right'));
            
            // Helper function to respace a group of images
            function respaceImageGroup(images) {
                if (images.length === 0) return;
                
                // Sort by preferred position (current top position)
                images.sort((a, b) => {
                    const aTop = parseFloat(a.style.top) || a.getBoundingClientRect().top;
                    const bTop = parseFloat(b.style.top) || b.getBoundingClientRect().top;
                    return aTop - bTop;
                });
                
                const minSpacing = 5; // minimum pixels between images
                let lastBottom = -Infinity;
                
                images.forEach(image => {
                    const rect = image.getBoundingClientRect();
                    const preferredTop = parseFloat(image.style.top) || rect.top;
                    const imageHeight = rect.height;
                    
                    // Place at preferred position or just below the last image
                    const newTop = Math.max(preferredTop, lastBottom + minSpacing);
                    image.style.top = newTop + 'px';
                    
                    lastBottom = newTop + imageHeight;
                });
            }
            
            // Respace left and right images separately
            respaceImageGroup(leftImages);
            respaceImageGroup(rightImages);
        }


        const [leftColumn, rightColumn] = document.querySelectorAll('.column');
        const images = document.querySelectorAll('.marginalia, .marginalia-right');
        const contentColumns = document.querySelector('.content-columns');

        function setupScrollingMarginalia() {
            // get the margin-left of the content columns
            const marginLeft = window.getComputedStyle(contentColumns).marginLeft;
            const marginLeftPx = parseFloat(marginLeft.replace('px', ''));

            function updateImagePositions() {
                images.forEach(image => {
                    const parentPostId = image.getAttribute('data-parent-post');
                    const parentPost = document.querySelector(`[data-post-id="${parentPostId}"]`);
                    
                    if (parentPost) {
                        const rect = parentPost.getBoundingClientRect();
                        image.style.top = rect.top + 'px';
                        image.style.width = marginLeftPx * .8 + 'px';
                        
                        // Check if this is a right-side marginalia
                        if (image.classList.contains('marginalia-right')) {
                            image.style.right = marginLeftPx * .1 + 'px';
                            image.style.left = 'auto';
                        } else {
                            image.style.left = marginLeftPx * .1 + 'px';
                            image.style.right = 'auto';
                        }
                    } else {
                        console.log('no parent post found for image', image);
                    }
                });
            }
            
            // Initial positioning
            updateImagePositions();

            // move the images
            respaceImages();
    }

    function resizeContentColumns() {
        const headingContent = document.querySelector('#heading-content');
        const contentColumns = document.querySelector('.content-columns');
        const headingContentHeight = headingContent.offsetHeight;
        const contentColumnsHeight = contentColumns.offsetHeight;
        contentColumns.style.height = `calc(100vh - ${headingContentHeight}px)`;
    }


    async function initializePage() {
        await createPublicationContent();
        handleResize();
    }

    // Function to handle window resize
    function handleResize() {
        if (typeof resizeElements === 'function') {
            resizeElements();
        } else {
            console.warn('Could not resize elements, did you forget to include text-resize.js?');
        }
        
        setupScrollingMarginalia();
        resizeContentColumns();
    }

    document.addEventListener('DOMContentLoaded', initializePage);
    // Also call on window load to ensure fonts are loaded for accurate text resizing
    window.addEventListener('load', () => {
        if (typeof handleResize === 'function') {
            handleResize();
        }
    });

    // Call on window resize (load is handled by main.html initializePage function)
    window.addEventListener('resize', handleResize); 

    // Update positions on scroll
    leftColumn.addEventListener('scroll', setupScrollingMarginalia);
    rightColumn.addEventListener('scroll', setupScrollingMarginalia);
    document.addEventListener('scroll', setupScrollingMarginalia);


    </script>
</html>
